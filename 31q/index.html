<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <title>31 Questions for daily life</title>
    <meta content="31 Questions for daily life" property="og:title">
    <meta content="First Edition | March 29th 2020 | 100 copies" name="description">
    <meta content="First Edition | March 29th 2020 | 100 copies" property="og:description">

    <meta content="summary_large_image" name="twitter:card">
    <meta content="https://vg.pe.hu/jp/31q/" property="og:url">
    <meta content="https://vg.pe.hu/jp/31q/pr/000.jpg" property="og:image">
    <meta content="https://vg.pe.hu/jp/31q/pr/000.jpg" name="twitter:image:src">

    <link rel="icon" href="../icon.png" type="image/png">
    <script src="../index.js"></script>
    <script type="text/javascript">
        let btnToggleclass = function () {
            document.body.classList.toggle('open');
        }
        document.addEventListener('readystatechange', event => {
            if (event.target.readyState === 'loading') {
                // loading
            } else if (event.target.readyState === 'interactive') {
                fetchHTML('../menu.html', '#menu');
                fetchHTML('../floor.html', '#floor');
                fetchHTML('contents.html', '#index');
            } else if (event.target.readyState === 'complete') {
                document.addEventListener('click', () => {
                    document.querySelector('main ul').style.opacity = 1
                });

                (function () {
                    const sec = 31;
                    const events = ['keydown', 'mousemove', 'scroll', 'wheel', 'click'];
                    const screensaver = document.querySelector('#screensaver')
                    let timeoutId;

                    // タイマー設定
                    function setTimer() {
                        timeoutId = setTimeout(start, sec * 1000);
                    }
                    
                    function reset() {
                        clearTimeout(timeoutId);
                        setTimer();
                        screensaver.style.opacity = 0
                    }

                    // イベント設定
                    function setEvents(func) {
                        let len = events.length;
                        while (len--) {
                            addEventListener(events[len], func, false);
                        }
                    }

                    // ログアウト
                    function start() {
                        screensaver.style.opacity = 1
                    }

                    setTimer();
                    setEvents(reset);
                })();
            }
        });
    </script>
    <link rel="stylesheet" href="../menu.css">
    <link rel="stylesheet" href="../floor.css">
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/contents.css" />
    <link rel="stylesheet" href="pr/style.css" />
</head>

<body>
    <header id="menu"></header>
    <main>
        <div id="screensaver">
            <p id="cover"></p>
        </div>
        <script src="img/daily.js"></script>
        <ul>
            <li id="book"></li>
            <li id="index"></li>
            <li id="one"></li>
            <li id="ten"></li>
            <li id="seventeen"></li>
            <li id="twenty"></li>
            <li id="back"></li>
        </ul>
    </main>
    <footer id="floor"></footer>
</body>

</html>